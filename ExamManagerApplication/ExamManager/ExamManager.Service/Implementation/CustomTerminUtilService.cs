using ExamManager.Domain.DomainModel;
using ExamManager.Repository.Interface;
using ExamManager.Service.Interface;
using Newtonsoft.Json;
using Newtonsoft.Json.Linq;
using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.IO;
using System.Net;
using System.Text;

namespace ExamManager.Repository.Implementation
{
    public class CustomTerminUtilService : ICustomTerminUtilService
    {
        private readonly ICustomTerminUtil _customTerminUtil;
        public CustomTerminUtilService(ICustomTerminUtil customTerminUtil)
        {
            _customTerminUtil = customTerminUtil;
        }

        public void AddTermin(CustomTermin ct) { 
            this._customTerminUtil.AddTermin(ct);
        }

        public List<CustomTermin> GetAllTermini()
        { 
        return this._customTerminUtil.GetTermins();
        }
        public CustomTermin GetDetailsForTermin(int id) { 
        return this._customTerminUtil.GetTerminDetails(id);
        }
        public HttpWebResponse invokePost() {
            var url = "https://localhost:44307/api/receiveScheduledExams";

            var httpRequest = (HttpWebRequest)WebRequest.Create(url);
            httpRequest.Method = "POST";

            httpRequest.Accept = "application/json";
            httpRequest.ContentType = "application/json";

            var data = "{\"schedule\":[{\"duration\":120,\"examId\":\"561c7fd1-9e17-4211-b251-ca1ed97d6000\",\"roomId\":\"Lab8\",\"students\":[1149,2092,1344,1066,1263,1170,1001,1032,1220,1482,1340,1042,1242,2037,1111,1061,1402,1374,1270,1088,1085,1015,1295,1044,1425,1316,1251,1113,1254,1090,1391,1421,2221,1099,1289,1188,1301,1223,1084,1213,2233,2107,1246,1079,1231,1187,1151,2033,1094,1292,1003,1228,1381,2078,3102,1463,2013],\"teacherId\":\"SP115\",\"timeSlot\":\"2021-08-26T10:00:00\"},{\"duration\":150,\"examId\":\"6f1f9fbb-86ef-479e-b213-5fa0e602f2f7\",\"roomId\":\"Lab5\",\"students\":[1069,1112,1054,1338,1074,2221,1483,1036,1449,1012,1081,1155,1446,2197,1168,4031,1389,1472,1400,1447,1165,1339,1166,1288,1392,1320,1171,1046,1463,1096,1259,1220,1419,2029,1260,1115,1023,1145,1298,1105,1153,1429,1345,1368,2121,1077,1401,1164,1314,1350,1256,1149,1186],\"teacherId\":\"SP115\",\"timeSlot\":\"2021-08-25T13:00:00\"},{\"duration\":150,\"examId\":\"17e1ca63-8e72-4f2b-acef-f7003ff8d6f2\",\"roomId\":\"Lab9\",\"students\":[1103,1426,1327,1376,1389,1300,1223,2233,1061,1330,1218,1394,1088,1305,1258,1056,1143,1217,2046,1096,1439,1311,1159,1171,1070,1486,2117,1025,1358,1082,1317,2121,1477,1091,1416,1321,1433,1280,1233,1189,2033,1222,1268],\"teacherId\":\"SP123\",\"timeSlot\":\"2021-08-25T16:30:00\"},{\"duration\":120,\"examId\":\"64445f43-3efe-4d01-8465-bbe52bf6831e\",\"roomId\":\"Lab8\",\"students\":[2180,2188,2053,2117,2020,2211,2113,2029,2234,2238,2069,2203,2104,2062,2087,2154,2011,2007,2176,3045,2231,2216,2034,2213,2232,2240,2014,2184,2021,2245,2247,2130,2168,2119,2210],\"teacherId\":\"SP107\",\"timeSlot\":\"2021-09-07T19:00:00\"},{\"duration\":30,\"examId\":\"aea2a1c1-f254-4209-8355-3a70e66616cd\",\"roomId\":\"Lab5\",\"students\":[3088,4047,4036,4029,3004,3006,4025,4034,4009,3052,3027,4004,3032],\"teacherId\":\"SP137\",\"timeSlot\":\"2021-08-31T09:00:00\"},{\"duration\":90,\"examId\":\"a4aa20fb-47f2-44ca-b052-6e4c8f109d7a\",\"roomId\":\"Lab3\",\"students\":[2037,1259,1015,1305,2029,1046,1130,1432,1349,1093,1322,1020,1032,1152,1016,1425,1413,1315,1243,1382,1290,1451,1467,1438,1168,1308,1017,1294,2221,1195,1319,1434,1241,1058,1105,1253,1430,2078,4002,2054,1420,2076],\"teacherId\":\"SP118\",\"timeSlot\":\"2021-09-03T11:00:00\"},{\"duration\":60,\"examId\":\"78056ea1-91d4-4bc7-b14c-cac31af2b9e5\",\"roomId\":\"Lab3\",\"students\":[1040,1244,1055,1452,1448,1435,1490,1172,1471,1086,1192,1130,1155,1379,4031,1483,1205,2002,2088,1233,2107,1197,1466,1061,2076,1092,1322,1141,1360,1438,1009,1114,1300,2176,1412,1048,1352,1444,2247,1263,1390,1104],\"teacherId\":\"SP108\",\"timeSlot\":\"2021-09-14T20:00:00\"},{\"duration\":120,\"examId\":\"4b9fb6c5-f703-4491-8a25-b0251f1e9f79\",\"roomId\":\"Lab4\",\"students\":[2107,1120,1039,1065,1097,1250,1323,1102,1130,1427,1232,2106,1349,1201,1186,1093,1438,1361,1107,1176,1477,1279,1181,1412,1495,1252,1180,1255,1462,2088,1481],\"teacherId\":\"SP134\",\"timeSlot\":\"2021-09-10T14:00:00\"},{\"duration\":30,\"examId\":\"b5e7367f-1b60-4698-9f09-d0ebb0b012ec\",\"roomId\":\"Lab4\",\"students\":[4016,4048,4049,4042,4043,4028,4011],\"teacherId\":\"SP126\",\"timeSlot\":\"2021-09-10T09:30:00\"},{\"duration\":60,\"examId\":\"03b80a2a-b095-44f4-8eac-2a2b1efd83b6\",\"roomId\":\"Lab7\",\"students\":[2221,2200,2147,2158,2126,2115,2058,2142,2037,2027,2189,2063,2184,2118,3102,2077,2076,2209,2064,2006,2066,2031,2010,2211,2016,2111,2032,2096,2045,2140,2004,2146,2043,2145,2242,2156,2196,2080,2205,2207],\"teacherId\":\"SP104\",\"timeSlot\":\"2021-08-30T12:00:00\"},{\"duration\":120,\"examId\":\"561c7fd1-9e17-4211-b251-ca1ed97d6000\",\"roomId\":\"Lab9\",\"students\":[1425,1242,1042,1161,2092,1223,1213,1316,1344,1032,2033,1421,1400,1001,1113,1010,1295,1158,2107,1262,1263,1482,3102,1027,1029,1088,1246,1270,1463,1254,1289,1044,1149,1374,1391,2233,1251,1061,1094,2078,1459,1292,1090],\"teacherId\":\"SP133\",\"timeSlot\":\"2021-08-26T12:00:00\"},{\"duration\":30,\"examId\":\"37a49a31-dfd0-4ea8-b1a1-5ae8200ed147\",\"roomId\":\"Lab9\",\"students\":[4010,4012,4004,4007,4014,4020,4038],\"teacherId\":\"SP101\",\"timeSlot\":\"2021-08-24T14:30:00\"},{\"duration\":45,\"examId\":\"21dfc1d6-336a-4da6-93b6-53b77b897279\",\"roomId\":\"Lab4\",\"students\":[1254,1141,1175,1423,1241,2069,1495,1112,1052,1060,1446,1129,2184,1322,1469,1490,1121,1312,1313,1034,1486,1147,1499,1452,1140,1482,1035,1285,1392,1248,1101],\"teacherId\":\"SP113\",\"timeSlot\":\"2021-09-15T10:15:00\"},{\"duration\":90,\"examId\":\"64494380-14ff-4680-aae5-d17d1f8804e5\",\"roomId\":\"Lab9\",\"students\":[4039,4013,4038,4026,4045,4041],\"teacherId\":\"SP129\",\"timeSlot\":\"2021-08-23T20:30:00\"},{\"duration\":90,\"examId\":\"2b0750bd-7f56-437b-915c-a4b9c93a5511\",\"roomId\":\"Lab4\",\"students\":[2096,2013,2080,2081,2007,2160,2121,2030,2237,2189,2146,2172,2010,2057,2141,2135,2236,2093,2008,2234,2187,2038,2219,2151,2117,2130,2217,2070,2163,2044],\"teacherId\":\"SP109\",\"timeSlot\":\"2021-09-09T09:30:00\"},{\"duration\":90,\"examId\":\"02cb1090-1d85-4fa4-96c9-eedc8838c7b9\",\"roomId\":\"Lab9\",\"students\":[3071,3093,3066,3075,3045,3041,4031,3001,3119,3109],\"teacherId\":\"SP102\",\"timeSlot\":\"2021-09-07T09:30:00\"},{\"duration\":30,\"examId\":\"4a761105-cc3b-4ede-87ed-258256378979\",\"roomId\":\"Lab5\",\"students\":[4023,4046,4001,4030,4049],\"teacherId\":\"SP119\",\"timeSlot\":\"2021-09-09T13:00:00\"},{\"duration\":30,\"examId\":\"7147b77b-77eb-4e82-bfb3-57dfe3a6d78f\",\"roomId\":\"Lab8\",\"students\":[4014,4008,4012,4032,4044,4048,4043,4025,4000,4022,4017,4041,4005],\"teacherId\":\"SP101\",\"timeSlot\":\"2021-08-26T17:00:00\"},{\"duration\":30,\"examId\":\"87eb8755-1342-483d-9f29-aef601b395b5\",\"roomId\":\"Lab9\",\"students\":[3061,3058,3036,3017,3045,3100,3030],\"teacherId\":\"SP125\",\"timeSlot\":\"2021-08-27T12:30:00\"},{\"duration\":120,\"examId\":\"9be285a3-1a02-45eb-b5f5-c138f3c5aaaf\",\"roomId\":\"Lab1\",\"students\":[2221,1114,1428,1441,2127,1221,1071,1125,1323,1314,1298,1277,1295,1377,1287,1404,1131,1193,2107,1238,1416,1321,1039,1408,1494,1360,1481,1210,1351,1085,1464,3063,1265,1157,1254,1429,1064,1424,1184,1327,1045,1011,1335,2228,1358],\"teacherId\":\"SP126\",\"timeSlot\":\"2021-08-24T15:00:00\"},{\"duration\":90,\"examId\":\"909be142-4a72-4379-800f-ea431c7be86a\",\"roomId\":\"Lab2\",\"students\":[3120,3109,3006,3010,3102,3058,3090,3068,3070],\"teacherId\":\"SP126\",\"timeSlot\":\"2021-09-06T15:30:00\"},{\"duration\":90,\"examId\":\"64494380-14ff-4680-aae5-d17d1f8804e5\",\"roomId\":\"Lab6\",\"students\":[4013,4026,4039,4041,4045,4038],\"teacherId\":\"SP116\",\"timeSlot\":\"2021-08-23T19:00:00\"},{\"duration\":120,\"examId\":\"a4da2eb1-1153-4c0b-a957-f88483bb6507\",\"roomId\":\"Lab5\",\"students\":[3003,3052,3041,3084,3053,3026,3065,3110,3103],\"teacherId\":\"SP120\",\"timeSlot\":\"2021-09-01T17:00:00\"},{\"duration\":30,\"examId\":\"87eb8755-1342-483d-9f29-aef601b395b5\",\"roomId\":\"Lab1\",\"students\":[3036,3030,3045,3061,3100,3058,3017],\"teacherId\":\"SP136\",\"timeSlot\":\"2021-08-27T11:30:00\"},{\"duration\":30,\"examId\":\"74f99351-1121-4db2-a9ba-df5ca3b91b99\",\"roomId\":\"Lab3\",\"students\":[3017,3066,3107,3088,3032,3029,3008],\"teacherId\":\"SP112\",\"timeSlot\":\"2021-08-31T16:00:00\"},{\"duration\":30,\"examId\":\"1702448e-5f90-43b0-9c6d-9f4a38d9f338\",\"roomId\":\"Lab2\",\"students\":[1423,1105,1129,1132,1265,1210,1106,1143,1486,1141,1354,2013,1229,1079,1455,1100,1497,2228,1460,1155,1080,1335,1340,1246,1375,1274,1040,1373,1436,1407,1424,1240,1499,1170,1414,1395,2100,1235,1216,1303,1290,1405,1088,1166,2184,1359,2233,1211,1388,1278,1023,1353,1081,1007,1380,4002,1014,1017,2088,1418,2197,2234,1257,1183,1006,2106,1038],\"teacherId\":\"SP128\",\"timeSlot\":\"2021-09-15T11:30:00\"},{\"duration\":60,\"examId\":\"b41db122-cd1f-4753-a3f9-1921a57c62a5\",\"roomId\":\"Lab4\",\"students\":[3017,3005,3069,3084,3012,3047,3026,3121,4002],\"teacherId\":\"SP133\",\"timeSlot\":\"2021-08-24T16:00:00\"},{\"duration\":120,\"examId\":\"343b3833-1d54-4135-8b9f-699d307914af\",\"roomId\":\"Lab10\",\"students\":[2080,2008,2051,2001,2082,2177,2180,2247,2014,2155,2067,2238,2193,2165,2218,2024,4031,2077,2153,2023,2244,2214,2172,2028,2156],\"teacherId\":\"SP112\",\"timeSlot\":\"2021-09-01T15:00:00\"},{\"duration\":45,\"examId\":\"a5958c98-5189-4e3d-9462-d2005d973a0d\",\"roomId\":\"Lab9\",\"students\":[3049,3117,3001,3082,3083,3085,3077,3080,3123,3000,3034,3046,3097],\"teacherId\":\"SP115\",\"timeSlot\":\"2021-08-30T20:00:00\"},{\"duration\":60,\"examId\":\"076d557b-1cbe-49fe-b08c-ea94fcb88af1\",\"roomId\":\"Lab6\",\"students\":[3073,3054,3111,3000,3044,3040,3113,3114,3037,3060,3110],\"teacherId\":\"SP108\",\"timeSlot\":\"2021-09-01T14:00:00\"},{\"duration\":30,\"examId\":\"f38c2f4b-8beb-45ce-a62c-f8ae03451312\",\"roomId\":\"Lab9\",\"students\":[1025,1497,1476,1157,1099,3093,1280,1072,2100,1142,4002,1454,1315,1092,1298,1324,1359,1098,1389,1032,1211,1004,1370,1257,1300,1496,1244,1096,1062,1494,1376,1395,1224,2034,1230,1384,1465,1288,1200,1428,1231,1491,1208],\"teacherId\":\"SP127\",\"timeSlot\":\"2021-08-31T18:30:00\"},{\"duration\":60,\"examId\":\"fe82703a-240e-46ef-aaf6-1c8b97b2c81e\",\"roomId\":\"Lab4\",\"students\":[1454,1371,1198,1304,1007,1095,1325,1355,1117,1167,1242,1102,1372,1479,1295,1043,1276,1235,1463,2046,1381,1176,1282,1345,1036,1326,1410,1472,1149,1353,1018],\"teacherId\":\"SP118\",\"timeSlot\":\"2021-09-07T17:00:00\"},{\"duration\":90,\"examId\":\"dd7ec4e4-cbf1-4957-a2e0-6a038508965e\",\"roomId\":\"Lab5\",\"students\":[2014,2000,2216,2213,2057,2240,2045,2205,2029,2135,2101,2177,2033,2224,2244,2060,2130,2126,2022,2138,2122,2247],\"teacherId\":\"SP112\",\"timeSlot\":\"2021-09-01T17:00:00\"},{\"duration\":60,\"examId\":\"4a42d6e7-6e95-4ae4-b714-c39ae110a298\",\"roomId\":\"Lab4\",\"students\":[3111,3020,3050,3076,3021,3113,3101,3064,3023,3025,3004,3042],\"teacherId\":\"SP111\",\"timeSlot\":\"2021-09-15T19:00:00\"},{\"duration\":90,\"examId\":\"909be142-4a72-4379-800f-ea431c7be86a\",\"roomId\":\"Lab2\",\"students\":[3010,3120,3109,3070,3090,3058,3102,3068,3006],\"teacherId\":\"SP101\",\"timeSlot\":\"2021-09-06T17:00:00\"},{\"duration\":45,\"examId\":\"b42086bd-7422-4f8c-bcf5-504ac4c390a6\",\"roomId\":\"Lab3\",\"students\":[3024,3077,3098,3026,3102,3025,3015,3107,3093,3050,3057,3041,3116],\"teacherId\":\"SP105\",\"timeSlot\":\"2021-09-13T11:45:00\"},{\"duration\":45,\"examId\":\"b42086bd-7422-4f8c-bcf5-504ac4c390a6\",\"roomId\":\"Lab5\",\"students\":[3024,3057,3098,3107,3116,3041,3077,3026,3102,3025,3050,3015,3093],\"teacherId\":\"SP136\",\"timeSlot\":\"2021-09-13T11:45:00\"},{\"duration\":120,\"examId\":\"bf35b110-5dca-433e-8a1f-407007ae280a\",\"roomId\":\"Lab1\",\"students\":[3067,3079,3075,3026,3116,3114,3001,3059,3102,3052,3017,3121,3074],\"teacherId\":\"SP135\",\"timeSlot\":\"2021-09-03T16:00:00\"},{\"duration\":60,\"examId\":\"9dd62fa8-4f9e-4a0f-8e18-fc39459971aa\",\"roomId\":\"Lab3\",\"students\":[3003,3021,3060,3040,3048,3111,3096,3124,3073,3002,3114],\"teacherId\":\"SP137\",\"timeSlot\":\"2021-09-07T14:00:00\"},{\"duration\":45,\"examId\":\"ebf1478e-519c-413a-a86d-08c9b8df027c\",\"roomId\":\"Lab5\",\"students\":[4029,4009,4025,3032,3004,3027,4034,3006,3052,4036,3088,4004,4047],\"teacherId\":\"SP115\",\"timeSlot\":\"2021-08-24T13:15:00\"},{\"duration\":60,\"examId\":\"0d478c2c-8e41-450d-8b31-4a1fb9a9c0b9\",\"roomId\":\"Lab8\",\"students\":[3103,3039,3044,3040,3063,3047,3006],\"teacherId\":\"SP119\",\"timeSlot\":\"2021-09-13T15:00:00\"},{\"duration\":60,\"examId\":\"d2dc83ca-f930-42dc-aab9-2780fe060174\",\"roomId\":\"Lab4\",\"students\":[4049,4039,4022,4044,4038,4008,4024],\"teacherId\":\"SP113\",\"timeSlot\":\"2021-09-03T18:00:00\"},{\"duration\":60,\"examId\":\"fe82703a-240e-46ef-aaf6-1c8b97b2c81e\",\"roomId\":\"Lab8\",\"students\":[1198,1218,1498,1345,1117,1102,1381,1276,2176,1232,1282,1167,1075,1371,1326,1295,1463,2103,1178,1355,1222,1235,2076,1007,1149,1304,1043,1372,1176,1103,1095,1313,1225,1055,1333,1018,1067,1253,1159,1284,1353,1047,1472,1325,1089,1410,1406,1036,1495,1454,1000,1306,1242,1378,2106,2002,1179],\"teacherId\":\"SP139\",\"timeSlot\":\"2021-09-07T15:00:00\"},{\"duration\":30,\"examId\":\"249c3b22-cbb9-43e5-8388-aa350f166a09\",\"roomId\":\"Lab3\",\"students\":[4043,4044,4000,4034,4014,4037],\"teacherId\":\"SP137\",\"timeSlot\":\"2021-09-02T11:30:00\"},{\"duration\":120,\"examId\":\"cd2d5a38-55c8-4272-88d5-a02c35950ff6\",\"roomId\":\"Lab9\",\"students\":[1055,1122,1044,1415,2234,1056,2228,2084,1172,1316,1214,1475,2061,2247,1356,1363,1010,3045,1011,1264,1431,1230,1400,1007,1202,1030,1148,1484,1169,3039,1440,1212,1319,1392,1320,1315,1439,1093,2106,1145,1117,1493,1453],\"teacherId\":\"SP127\",\"timeSlot\":\"2021-09-09T12:00:00\"},{\"duration\":45,\"examId\":\"4043ee34-a2f5-4fde-bbf5-482d60259ce2\",\"roomId\":\"Lab5\",\"students\":[3016,3034,3039,3004,3047,3070,3030,3122,3023,3117,3114,3045,3104,3096],\"teacherId\":\"SP113\",\"timeSlot\":\"2021-08-24T20:00:00\"},{\"duration\":60,\"examId\":\"78735fc7-3bdd-43b0-a980-31074e456ac6\",\"roomId\":\"Lab8\",\"students\":[3039,3011,3028,3118,3122,3025,3095,3009,3124,3082,3123,3076],\"teacherId\":\"SP119\",\"timeSlot\":\"2021-08-26T14:00:00\"},{\"duration\":120,\"examId\":\"a4da2eb1-1153-4c0b-a957-f88483bb6507\",\"roomId\":\"Lab8\",\"students\":[3053,3041,3065,3003,3052,3103,3026,3110,3084],\"teacherId\":\"SP130\",\"timeSlot\":\"2021-09-01T17:00:00\"},{\"duration\":120,\"examId\":\"a4da2eb1-1153-4c0b-a957-f88483bb6507\",\"roomId\":\"Lab7\",\"students\":[1276,1096,1378,1199,1260,1363,1478,1053,2117,3093,2033,1002,1024,1148,1026,1456,2221,1188,1450,1429,1075,1436,3045,1414,1078,1279,1230,1259,1202,1468,2046,1463,2002,1038,1211,1166,1335,1388,4031,1197],\"teacherId\":\"SP108\",\"timeSlot\":\"2021-09-01T19:00:00\"},{\"duration\":120,\"examId\":\"989705c3-9e45-439f-b411-9d5ca79cee42\",\"roomId\":\"Lab9\",\"students\":[2065,2111,2216,2131,2234,2127,2033,2181,2016,4031,2103,2075,2070,2112,2124,2176,2196,2171,2089,2225,2238,2146,2248,2107,3025,2174,2150,2148,2026,2155],\"teacherId\":\"SP135\",\"timeSlot\":\"2021-08-27T14:00:00\"},{\"duration\":60,\"examId\":\"b41db122-cd1f-4753-a3f9-1921a57c62a5\",\"roomId\":\"Lab2\",\"students\":[3012,3084,3121,3047,3017,4002,3026,3069,3005],\"teacherId\":\"SP136\",\"timeSlot\":\"2021-08-24T15:00:00\"},{\"duration\":30,\"examId\":\"4a761105-cc3b-4ede-87ed-258256378979\",\"roomId\":\"Lab10\",\"students\":[4049,4023,4001,4030,4046],\"teacherId\":\"SP134\",\"timeSlot\":\"2021-09-09T12:00:00\"},{\"duration\":45,\"examId\":\"b42086bd-7422-4f8c-bcf5-504ac4c390a6\",\"roomId\":\"Lab8\",\"students\":[3026,3025,3093,3098,3050,3041,3024,3057,3077,3102,3116,3015,3107],\"teacherId\":\"SP107\",\"timeSlot\":\"2021-09-13T12:30:00\"},{\"duration\":30,\"examId\":\"1a111e6f-502e-49a1-b12e-5519aadf872b\",\"roomId\":\"Lab10\",\"students\":[1405,1389,1336,1250,1083,1474,1116,1373,1460,1458,1408,2088,1270,1139,1147,1225,1001,1343,1422,1289,1371,1226,2127,1033,1358],\"teacherId\":\"SP122\",\"timeSlot\":\"2021-09-02T09:00:00\"},{\"duration\":60,\"examId\":\"3e703027-4edd-42d1-9420-5fae6f035a58\",\"roomId\":\"Lab6\",\"students\":[4031,4041,4030,4029,4010,4021,4035,4048,4025,4012,4009,4023,4045,4020],\"teacherId\":\"SP126\",\"timeSlot\":\"2021-09-03T09:00:00\"},{\"duration\":30,\"examId\":\"c15347be-8b19-4384-90af-4415f4fb96ba\",\"roomId\":\"Lab5\",\"students\":[1202,1003,1254,1001,1478,1468,1053,2221,1456,1002,1046,1260,1335,1440,1076,1241,1199,4031,1197,1148,2117,1075,1297,1388,2002,1266,1450,1296,1499,1378,1166,1429,1184,1038,1397,1463,1259,1096,1276,1436,1078,1130,1230,1024,1363,2033,2046,1414,3093,1279,1188,1026,3045],\"teacherId\":\"SP107\",\"timeSlot\":\"2021-09-03T12:30:00\"},{\"duration\":30,\"examId\":\"a8651120-b632-467f-b32a-b1302a46ef08\",\"roomId\":\"Lab5\",\"students\":[4025,4018,4039,4032],\"teacherId\":\"SP103\",\"timeSlot\":\"2021-09-01T17:30:00\"},{\"duration\":30,\"examId\":\"9cd64c03-8581-4c9d-b758-2c4ff9cfe1d9\",\"roomId\":\"Lab6\",\"students\":[2233,2226,2243,2100,2125,2076,2193,2217,2166,2170,2222,2113,2192,2015,2187,2140,2220,2105,2129,2080,2215,2176,2179,2037,2057,2224,2060,4031,2073,2173,2153,2117,2095],\"teacherId\":\"SP116\",\"timeSlot\":\"2021-09-02T10:30:00\"},{\"duration\":90,\"examId\":\"2b0750bd-7f56-437b-915c-a4b9c93a5511\",\"roomId\":\"Lab1\",\"students\":[2057,2151,2146,2187,2030,2117,2219,2081,2236,2038,2044,2008,2080,2172,2007,2189,2121,2135,2130,2234,2141,2163,2096,2010,2160,2093,2070,2013,2237,2217],\"teacherId\":\"SP128\",\"timeSlot\":\"2021-09-09T11:00:00\"},{\"duration\":60,\"examId\":\"baa30bd1-cd9f-43b2-8d6c-adc655688f14\",\"roomId\":\"Lab3\",\"students\":[3090,3007,3037,3062,3054,3092,3115,3112,3100,3124,3064],\"teacherId\":\"SP115\",\"timeSlot\":\"2021-09-14T18:00:00\"},{\"duration\":120,\"examId\":\"5d32450a-a56e-4d5c-beae-d686878c47c8\",\"roomId\":\"Lab6\",\"students\":[3075,4002,3036,3045,3095,4031,3022,3025,3010,3080,3065,3004,3090],\"teacherId\":\"SP123\",\"timeSlot\":\"2021-08-30T13:00:00\"},{\"duration\":45,\"examId\":\"f8c9f3ef-257c-4f28-bd15-43dd428c3629\",\"roomId\":\"Lab1\",\"students\":[3011,3067,3069,3103,3048,3043,3110,3065,3053,3005,3120,3117,3030],\"teacherId\":\"SP120\",\"timeSlot\":\"2021-09-02T12:30:00\"},{\"duration\":120,\"examId\":\"9be285a3-1a02-45eb-b5f5-c138f3c5aaaf\",\"roomId\":\"Lab5\",\"students\":[1387,1382,1253,1238,2013,1114,2228,1002,1408,2121,1279,2107,1416,1373,1299,1327,1295,1265,2002,1216,1494,1481,1314,1424,3045,1358,1335,1464,1163,1428,1354,2127,2221,1193,1221,1125,1131,1184,1360,1298,1177,1071,1237,2046,1321,1351,1277,1483,1248,1064,1281,1287,2124],\"teacherId\":\"SP113\",\"timeSlot\":\"2021-08-24T13:00:00\"},{\"duration\":30,\"examId\":\"249c3b22-cbb9-43e5-8388-aa350f166a09\",\"roomId\":\"Lab2\",\"students\":[4000,4037,4034,4014,4043,4044],\"teacherId\":\"SP105\",\"timeSlot\":\"2021-09-02T12:00:00\"},{\"duration\":60,\"examId\":\"03b80a2a-b095-44f4-8eac-2a2b1efd83b6\",\"roomId\":\"Lab2\",\"students\":[2189,2156,2205,2147,2016,2196,2111,2003,2004,2200,2158,2045,2140,2115,2142,2221,2124,2207,2118,2212,2000,2064,2066,2037,2096,2209,2146,2061,3102,2077,2242,2027,2058,2145,2211,2032,2006,2010,2076,2043,2080,2063,2206,2031,2126,2184],\"teacherId\":\"SP122\",\"timeSlot\":\"2021-08-30T12:00:00\"},{\"duration\":30,\"examId\":\"55f7c33c-72a8-41f0-b428-a6b589d140af\",\"roomId\":\"Lab8\",\"students\":[4010,4045,4030,4042,4032,4019,4028,4037,4003,4040,4013,4031],\"teacherId\":\"SP126\",\"timeSlot\":\"2021-09-14T16:00:00\"},{\"duration\":30,\"examId\":\"249c3b22-cbb9-43e5-8388-aa350f166a09\",\"roomId\":\"Lab4\",\"students\":[4037,4043,4000,4014,4034,4044],\"teacherId\":\"SP132\",\"timeSlot\":\"2021-09-02T11:30:00\"},{\"duration\":30,\"examId\":\"a8651120-b632-467f-b32a-b1302a46ef08\",\"roomId\":\"Lab6\",\"students\":[4018,4039,4025,4032],\"teacherId\":\"SP135\",\"timeSlot\":\"2021-09-01T18:00:00\"},{\"duration\":45,\"examId\":\"ebf1478e-519c-413a-a86d-08c9b8df027c\",\"roomId\":\"Lab6\",\"students\":[1300,1352,4031,4002,2076,1040,1215,1155,1471,1086,1428,1263,1114,1075,1128,1130,1379,1322,1483,1197,1101,1244,2088,2002,2054,2247,2184,1092,1233,1106,1444,1399,1438,1366,1192,1141,1167,1310,1048,1390,1360,2176,1452,1104,1055,1435,2107,1412,1009,1449,1466,1448,1061],\"teacherId\":\"SP137\",\"timeSlot\":\"2021-08-24T11:45:00\"},{\"duration\":45,\"examId\":\"6a806b8e-b45f-4f80-92c4-3f7c37785f0e\",\"roomId\":\"Lab2\",\"students\":[1493,1303,1002,1470,1199,2247,1164,1270,2169,1360,1069,1438,1474,1464,1120,1435,1201,1297,1144,1296,1041,1141,1390,1251,1176,2103,1104,2046,1371,1398,1434,1323,1029,1263,1261,1166,2061,1011,1401,2117,2076,1332,1457,1351,1353,1248,1290,1294,1045,1376,1250,1090,1109,1440,2054,1053,1450,1456,1419,1174,1054,2195,1160,1461],\"teacherId\":\"SP129\",\"timeSlot\":\"2021-08-23T10:15:00\"},{\"duration\":30,\"examId\":\"3c574789-10a9-4afa-98df-7cb4a54a4ef9\",\"roomId\":\"Lab7\",\"students\":[3086,3008,3102,3003,3061,3065,3027,3056,3082,3081,3045],\"teacherId\":\"SP101\",\"timeSlot\":\"2021-09-13T09:00:00\"},{\"duration\":90,\"examId\":\"2b0750bd-7f56-437b-915c-a4b9c93a5511\",\"roomId\":\"Lab10\",\"students\":[2121,2237,2236,2163,2172,2189,2081,2146,2151,2013,2219,2044,2141,2008,2030,2217,2234,2135,2007,2080,2057,2093,2010,2130,2096],\"teacherId\":\"SP123\",\"timeSlot\":\"2021-09-09T09:30:00\"},{\"duration\":20,\"examId\":\"73950365-b178-4675-b118-5563932decaa\",\"roomId\":\"Lab5\",\"students\":[2078,2040,2181,2238,2112,2043,2161,2037,2048,2173,2190,2099,2125,2076,2234,2144,2022,2051,2171,2193,2176,2075,2122,3039],\"teacherId\":\"SP130\",\"timeSlot\":\"2021-09-02T08:40:00\"},{\"duration\":120,\"examId\":\"5d32450a-a56e-4d5c-beae-d686878c47c8\",\"roomId\":\"Lab8\",\"students\":[3025,3090,3080,3045,3004,4002,3095,3010,3036,3075,3022,3065,4031],\"teacherId\":\"SP117\",\"timeSlot\":\"2021-08-30T17:00:00\"},{\"duration\":45,\"examId\":\"83f7b0c4-29e8-4040-b459-e191ad89ce34\",\"roomId\":\"Lab8\",\"students\":[1284,1011,2046,1384,1170,1169,1447,1302,1087,1065,1403,1443,1476,2088,1445,1199,1440,1156,2184,1298,1260,4002,2076,1179,1047,1316,1278,1084,2084,1362,1115,2054,1495,1321,1121,2029,1013,1374,1004,1371,1393,1409,1235,1157,1033,1053,2078,1398,1357,1481,1361,1291,1044,1209,2106,1270,1005],\"teacherId\":\"SP105\",\"timeSlot\":\"2021-09-10T12:15:00\"},{\"duration\":60,\"examId\":\"56f94a75-476a-4ff0-9fe5-5eb8068326d7\",\"roomId\":\"Lab4\",\"students\":[2087,2204,2154,2067,2077,2221,2013,2045,2128,2247,2043,2159,2012,2194,2155,2119,2185,2210,2071,2083,2109,2234,2021,2088,2200,2061,2241,2008,2199,2048,2233],\"teacherId\":\"SP123\",\"timeSlot\":\"2021-09-13T09:00:00\"},{\"duration\":120,\"examId\":\"a4da2eb1-1153-4c0b-a957-f88483bb6507\",\"roomId\":\"Lab8\",\"students\":[3041,3053,3026,3003,3103,3052,3084,3065,3110],\"teacherId\":\"SP103\",\"timeSlot\":\"2021-09-01T17:00:00\"},{\"duration\":30,\"examId\":\"0ddd798d-a4b4-472a-8449-738484a6d778\",\"roomId\":\"Lab10\",\"students\":[4045,4002,4023,4001,4012,4049,4046,4039],\"teacherId\":\"SP136\",\"timeSlot\":\"2021-08-27T14:30:00\"},{\"duration\":60,\"examId\":\"c3c2c011-e89a-4be7-9c3c-0248a76bffbc\",\"roomId\":\"Lab3\",\"students\":[2050,2116,2108,2179,2038,2095,2241,2201,2029,2211,2186,2002,2173,2181,2161,2100,2055,2053,2138,2019,2126,2248,2062,2077,2198,2119,2202,2240,2234,2246],\"teacherId\":\"SP121\",\"timeSlot\":\"2021-09-09T12:00:00\"},{\"duration\":30,\"examId\":\"9cd64c03-8581-4c9d-b758-2c4ff9cfe1d9\",\"roomId\":\"Lab7\",\"students\":[2073,2007,2215,2192,2113,2173,2233,2243,2015,2095,2176,2129,2140,2166,2036,2228,2217,2107,2100,2153,2222,2187,2226,2179,4031,2057,2220,2224,2076,2125,2117,2105,2037,2170,2133,2080,2193,2060],\"teacherId\":\"SP130\",\"timeSlot\":\"2021-09-02T11:00:00\"},{\"duration\":60,\"examId\":\"1c6f0627-3ad1-45fa-8f59-d4f8486b788e\",\"roomId\":\"Lab2\",\"students\":[3031,3028,3111,3032,3000,3059,3086,3122,3120,3095,3066,3034],\"teacherId\":\"SP125\",\"timeSlot\":\"2021-09-06T14:00:00\"},{\"duration\":120,\"examId\":\"561c7fd1-9e17-4211-b251-ca1ed97d6000\",\"roomId\":\"Lab2\",\"students\":[1463,1061,1374,1151,1295,1111,1158,1085,1400,1270,1029,1263,1042,1134,1262,1149,3102,1223,1482,1032,2221,1254,1316,1010,1113,1289,2092,1161,1220,1044,1099,2033,1094,1213,2107,1090,1015,1031,1088,1340,1147,1292,1381,1003,1084,2013,1391,1251,1231,2233,1344,1459,1188,1364,1242,1228,1027,1425,1402,1170,2078,1187,1421,1246,1001,1079,2037],\"teacherId\":\"SP108\",\"timeSlot\":\"2021-08-26T16:00:00\"},{\"duration\":120,\"examId\":\"cd2d5a38-55c8-4272-88d5-a02c35950ff6\",\"roomId\":\"Lab4\",\"students\":[1417,2088,1319,1148,1392,1320,1363,1386,1414,1070,1016,1214,1437,1170,1137,1326,2228,1453,1400,1315,1058,1150,1122,1264,1251,2234,1439,1475,1083,1035,1056],\"teacherId\":\"SP105\",\"timeSlot\":\"2021-09-09T10:00:00\"},{\"duration\":45,\"examId\":\"b42086bd-7422-4f8c-bcf5-504ac4c390a6\",\"roomId\":\"Lab7\",\"students\":[3107,3093,3026,3116,3057,3025,3050,3102,3024,3041,3098,3015,3077],\"teacherId\":\"SP116\",\"timeSlot\":\"2021-09-13T13:15:00\"},{\"duration\":45,\"examId\":\"83f7b0c4-29e8-4040-b459-e191ad89ce34\",\"roomId\":\"Lab5\",\"students\":[1005,1498,1271,1495,1455,1316,1087,2084,1053,1381,1196,1170,1199,1481,1044,1321,1156,1270,1011,1013,1280,1376,1384,1476,1371,1374,1409,1362,1341,1440,1115,2088,1349,1179,2046,2184,1403,2078,1127,1033,1447,2002,2054,1357,1121,1235,1010,1338,1084,1176,1278,4002,1361],\"teacherId\":\"SP119\",\"timeSlot\":\"2021-09-10T10:45:00\"},{\"duration\":45,\"examId\":\"ebf1478e-519c-413a-a86d-08c9b8df027c\",\"roomId\":\"Lab1\",\"students\":[3032,4009,3027,3088,4047,3052,4034,4004,4029,3004,4025,3006,4036],\"teacherId\":\"SP102\",\"timeSlot\":\"2021-08-24T11:45:00\"},{\"duration\":120,\"examId\":\"a4da2eb1-1153-4c0b-a957-f88483bb6507\",\"roomId\":\"Lab8\",\"students\":[3110,3084,3003,3103,3041,3065,3053,3052,3026],\"teacherId\":\"SP137\",\"timeSlot\":\"2021-09-01T19:00:00\"},{\"duration\":60,\"examId\":\"56f94a75-476a-4ff0-9fe5-5eb8068326d7\",\"roomId\":\"Lab9\",\"students\":[2247,2221,2185,2067,2077,2204,2234,2159,2200,2008,2021,2083,2071,2154,2241,2061,2013,2119,2155,2199,2109,2048,2128,2087,2194,2233,2210,2002,2012,2043,2045,2088],\"teacherId\":\"SP119\",\"timeSlot\":\"2021-09-13T13:00:00\"},{\"duration\":60,\"examId\":\"35a7b57e-75d5-41c5-89e6-d3caf37ff78d\",\"roomId\":\"Lab5\",\"students\":[3076,3051,3052,3072,3044,3102,3077,3093,3096,3016,3048,3083,3067,3050,3009,3074],\"teacherId\":\"SP106\",\"timeSlot\":\"2021-09-15T17:00:00\"}]}";


            using (var streamWriter = new StreamWriter(httpRequest.GetRequestStream()))
            {
                streamWriter.Write(JObject.Parse(data));
            }

            var httpResponse = (HttpWebResponse)httpRequest.GetResponse();
            using (var streamReader = new StreamReader(httpResponse.GetResponseStream()))
            {
                var result = streamReader.ReadToEnd();
            }

            Debug.WriteLine(httpResponse.StatusCode);
            Debug.WriteLine(this._customTerminUtil.GetTermins().Count);
            return httpResponse;
        }
               
    }
}
